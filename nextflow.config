/*
 * Workflow metadata
 */

manifest {
   author = "Patrick Barth"
   version = "1.0.0"
   mainScript = "main.nf"
   defaultBranch = "main"
   name = "QC reads and alignments"
   description = "Collects processing data from preprocessing steps (adapter trimming and quality filtering) as well as from alignment steps and returns them. Provides an overview of the general quality of the data."
   nextflowVersion = "23.10.0"
}

/*
 * Saves reports to output directory
 */

report {
   enabled  = true
   file     = "${params.output_dir}/metadata/report.html"
}

dag {
   enable   = true
   file     = "${params.output_dir}/metadata/graph-overview.html"
}

timeline {
   enable   = true
   file     = "${params.output_dir}/metadata/graph-overview.html"
}

/*
 * Parameters
 */

params {
   // General parameters
   output_dir = "output"
   // Read processing
   min_length = 20               //Minimum length of reads to remain after adapter trimming
   min_qual = 20                 //Minimum quality allowed for bases to remain
   min_percent_qual_filter = 90  //Percentage of bases within a read that need to be above the quality threshold for the read to remain

   // Alignment
   annotation = 'NO_FILE'
}

/*
 * Fixed Parameters (should not be accessed)
 */

params.manifest   = manifest
params.help       = false

/*
 * Executor options
 */

podman.enabled = true

/*
 * Profiles
 */

profiles {
	slurm {
		process.executor = 'slurm'
	}
}
